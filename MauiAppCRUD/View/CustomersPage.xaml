<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:MauiAppCRUD.ViewModel"
             xmlns:model="clr-namespace:MauiAppCRUD.Model"
             x:Class="MauiAppCRUD.View.CustomersPage">

    <StackLayout Margin="20">
        <SearchBar x:Name="searchBar"
                   SearchCommand="{Binding SearchCommand}"
                   SearchCommandParameter="{Binding Source={x:Reference searchBar}, Path=Text}"
                   TextChanged="SearchBar_TextChanged"
                   Placeholder="Pesquisar..." />
        
        <CollectionView
                x:Name="CollectionCustomers"
                Margin="10"
                ItemsSource="{Binding Customers}"
                ItemTemplate="{StaticResource CustomerGridMobileTemplate}"
                SelectionMode="Single"/>

        <ImageButton 
            Source="pluscircle.png"
            HorizontalOptions="End"
            VerticalOptions="EndAndExpand" 
            HeightRequest="64"
            Command="{Binding NewCustomerCommand}"
            WidthRequest="64"/>


    </StackLayout>
   

</ContentPage>